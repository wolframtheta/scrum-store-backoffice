<div class="home-container">
  <p-confirmDialog></p-confirmDialog>
  <p-toast></p-toast>
  
  <!-- Header -->
  <div class="home-header">
    <div>
      <h1 class="home-title">{{ 'home.welcome' | translate:{name: authService.currentUser()?.name} }}</h1>
      @if (groupService.selectedGroup()) {
        <p class="home-subtitle">{{ groupService.selectedGroup()?.name }}</p>
      }
    </div>
    <div class="header-actions">
      @if (canManageLogin()) {
        <p-button 
          [icon]="systemConfigService.loginEnabled() ? 'pi pi-lock-open' : 'pi pi-lock'"
          [label]="systemConfigService.loginEnabled() ? ('home.systemConfig.loginEnabled' | translate) : ('home.systemConfig.loginDisabled' | translate)"
          [severity]="systemConfigService.loginEnabled() ? 'success' : 'danger'"
          [loading]="systemConfigService.isLoading()"
          (click)="toggleLoginStatus()"
          styleClass="login-toggle-btn" />
      }
      <p-button icon="pi pi-sign-out" [label]="'auth.logout' | translate" severity="secondary" (click)="logout()" />
    </div>
  </div>

  <!-- Module Cards -->
  <div class="modules-container">
    <div class="modules-grid">
      @for (module of modules(); track module.id) {
        <app-module-card
          [config]="module"
          (cardClick)="onModuleClick($event)" />
      }
    </div>
  </div>
</div>

